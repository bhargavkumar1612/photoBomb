/* Timeline Header & Layout */
.timeline-wrapper {
    margin: -24px;
    /* Counteract AppLayout padding */
    display: flex;
    flex-direction: column;
    min-height: calc(100vh - 64px);
    /* Ensure full height */
}

.timeline-layout-container {
    display: flex;
    flex-direction: column;
}

.timeline-sub-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 40px;
    /* Slimmer padding */
    background: rgba(255, 255, 255, 0.95);
    /* More solid background */
    position: sticky;
    top: 0;
    /* Sticky relative to the scroll container, which starts BELOW TopBar */
    z-index: 10;
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

/* Tabs: Photos | Favorites */
.sub-header-left {
    display: flex;
    gap: 24px;
    align-items: center;
}

.header-tab {
    font-size: 28px;
    font-weight: 700;
    color: #9ca3af;
    cursor: pointer;
    margin: 0;
    transition: color 0.2s;
}

.header-tab.active {
    color: #4f46e5;
    /* Brand color */
}

.header-tab:hover {
    color: #4b5563;
}

/* Segmented Controls (Day/Month/Year & Grid) */
.sub-header-center {
    flex: 1;
    display: flex;
    justify-content: center;
}

.segmented-control {
    display: flex;
    background: #e5e7eb;
    padding: 4px;
    border-radius: 12px;
}

.segmented-control button {
    border: none;
    background: transparent;
    padding: 6px 20px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    color: #4b5563;
    cursor: pointer;
    transition: all 0.2s ease;
}

.segmented-control button.active {
    background: white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    color: #111827;
}

.segmented-control button:hover:not(.active) {
    background: rgba(255, 255, 255, 0.5);
}

.segmented-control.small button {
    padding: 6px 12px;
    font-size: 16px;
    /* Icon size */
}

/* Right Actions */
.sub-header-right {
    display: flex;
    align-items: center;
    gap: 16px;
}

.btn-icon-round {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 1px solid #e5e7eb;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #4b5563;
    transition: all 0.2s;
    font-size: 18px;
}

.btn-icon-round:hover {
    background: #f3f4f6;
    color: #111827;
}

.btn-icon-round.active {
    background: #4f46e5;
    color: white;
    border-color: #4f46e5;
}

.selection-actions {
    display: flex;
    align-items: center;
    gap: 12px;
    background: white;
    padding: 4px 12px;
    border-radius: 20px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.selection-actions span {
    font-size: 13px;
    font-weight: 500;
    color: #6b7280;
}

/* Timeline Content Area */
.timeline-content {
    /* 
       Ensure content doesn't get hidden behind the sticky header initially 
       Sticky header takes space in flow, so padding here is just aesthetic spacing.
       But if flex layout collapses, we might need min-height?
    */
    padding: 24px 40px 40px 40px;
}

/* Add margin to first group to clear sticky header visually if needed, though padding above handles most */
.date-group:first-child .group-header {
    margin-top: 20px;
    /* Force some gap from the sticky header */
}

/* Ensure sticky header has distinct separation */
.timeline-sub-header {
    /* ... existing props ... */
    backdrop-filter: blur(12px);
    background: rgba(255, 255, 255, 0.85);
    /* Slightly more opaque */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    /* Subtle shadow for depth */
}

.empty-state {
    text-align: center;
    padding: 120px 0;
    /* More breathing room */
    color: #9ca3af;
}

.empty-state h3 {
    font-size: 18px;
    font-weight: 500;
}

/* Masonry Grid Styles */
.my-masonry-grid {
    display: flex;
    margin-left: -20px;
    /* gutter size offset */
    width: auto;
}

.my-masonry-grid_column {
    padding-left: 20px;
    /* gutter size */
    background-clip: padding-box;
}

/* Photo Card Styles */
.photo-card {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    background-color: #f3f4f6;
    transform: translateZ(0);
    transition: transform 0.2s;
    margin-bottom: 20px;
    /* Vertical gutter */
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.photo-card img {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
    transition: filter 0.2s;
}

.photo-card.selected {
    box-shadow: 0 0 0 4px #4f46e5;
    transform: scale(0.98);
}

.photo-card.selected img {
    filter: brightness(0.9);
}

/* Photo Checkbox */
.photo-checkbox {
    position: absolute;
    top: 12px;
    left: 12px;
    width: 24px;
    height: 24px;
    z-index: 20;
    cursor: pointer;
    accent-color: #4f46e5;
    background: white;
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Photo Overlay */
.photo-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2) 0%, transparent 40%, transparent 60%, rgba(0, 0, 0, 0.6) 100%);
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 10px;
    pointer-events: none;
    /* Let clicks pass through to img if clicking blank area, but buttons have pointer-events: auto */
}

.photo-card:hover .photo-overlay {
    opacity: 1;
}

.photo-overlay button {
    pointer-events: auto;
    background: rgba(255, 255, 255, 0.9);
    border: none;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #374151;
    transition: all 0.2s;
}

.photo-overlay button:hover {
    background: white;
    color: #111827;
    transform: scale(1.1);
}

.favorite-btn {
    align-self: flex-end;
}

.favorite-btn.favorited {
    background: white;
    color: #ef4444;
    /* Red heart */
}

.delete-btn {
    align-self: flex-start;
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(239, 68, 68, 0.9) !important;
    color: white !important;
}

.delete-btn:hover {
    background: #ef4444 !important;
}

.overlay-bottom {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    width: 100%;
}


/* Media Queries */
@media (max-width: 1000px) {
    .timeline-wrapper {
        margin: -16px;
        /* Mobile padding is 16px */
    }

    .timeline-sub-header {
        flex-direction: column;
        gap: 16px;
        align-items: flex-start;
        padding: 16px 20px;
        top: 0;
    }

    /* ... rest of media query ... */

    .sub-header-center {
        width: 100%;
        justify-content: flex-start;
    }

    .sub-header-right {
        width: 100%;
        justify-content: space-between;
    }

    .timeline-content {
        padding: 10px 20px;
    }
}